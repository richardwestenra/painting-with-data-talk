<!doctype html>
<html itemscope itemtype="http://schema.org/Article">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Painting with Data</title>
		<meta name="description" content="Data-visualisation trades in metaphor and allusion. At its best, it‚Äôs imaginative storytelling with data and algorithms. We‚Äôll explore how to create beauty with JavaScript, how dataviz can shape the way we see the world, and how you can get started painting with data." />

		<!-- Schema.org markup for Google+ -->
		<meta itemprop="name" content="Painting with Data">
		<meta itemprop="description" content="Data-visualisation trades in metaphor and allusion. At its best, it‚Äôs imaginative storytelling with data and algorithms. We‚Äôll explore how to create beauty with JavaScript, how dataviz can shape the way we see the world, and how you can get started painting with data.">
		<meta itemprop="image" content="https://www.richardwestenra.com/d3-talk-2/img/cover.png">

		<!-- Twitter Card data -->
		<meta name="twitter:card" content="summary_large_image">
		<meta name="twitter:site" content="@richardwestenra">
		<meta name="twitter:title" content="Painting with Data">
		<meta name="twitter:description" content="Data-visualisation trades in metaphor and allusion. At its best, it‚Äôs imaginative storytelling with data and algorithms. We‚Äôll explore how to create beauty with JavaScript, how dataviz can shape the way we see the world, and how you can get started painting with data.">
		<meta name="twitter:creator" content="@richardwestenra">
		<meta name="twitter:image:src" content="https://www.richardwestenra.com/d3-talk-2/img/cover.png">

		<!-- Open Graph data -->
		<meta property="og:title" content="Painting with Data" />
		<meta property="og:type" content="article" />
		<meta property="og:url" content="https://www.richardwestenra.com/d3-talk-2/" />
		<meta property="og:image" content="https://www.richardwestenra.com/d3-talk-2/img/cover.png" />
		<meta property="og:description" content="Data-visualisation trades in metaphor and allusion. At its best, it‚Äôs imaginative storytelling with data and algorithms. We‚Äôll explore how to create beauty with JavaScript, how dataviz can shape the way we see the world, and how you can get started painting with data." />
		<meta property="og:site_name" content="Richard Westenra" />
		<meta property="article:published_time" content="2018-10-08T19:00:00+01:00" />

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/night.css">
		<link rel="stylesheet" href="css/theme/custom.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<span class="twitter-handle">@richardwestenra</span>


<canvas class="fullscreen" id="voronoi"></canvas>
<canvas class="fullscreen" id="dvd"></canvas>
<div class="fullscreen" id="darksky"></div>

<div class="reveal">
<div class="slides">

<section data-id="title">
	<h1 class="title"><b>PAINTING</b> WITH DATA</h1>
	<aside class="notes">
		<p class="meta">SLOW</p>
		<p>Hey all, I‚Äôm Richard. I‚Äôm a front-end engineer, or UI developer, or creative technologist, or webmaster, or whatever - I‚Äôm not even sure anymore.</p>
		<p>I‚Äôm originally from New Zealand, but I‚Äôve been living in London for eight years, and I‚Äôve been working with interactive dataviz for most of that time.</p>
	</aside>
</section>

<section>
	<section>
		<img src="img/logo-white.svg" alt="QuantumBlack logo" class="plain" width=700 />
		<p style="font-size: 0.85em; position: relative; bottom: -150px">We're hiring I think?</p>
		<aside class="notes">
			<p>I work at a company called QuantumBlack, which is part of McKinsey.</p>
			<p class="meta">SLOW</p>
			<p>I know the company name sounds kind of sinister, but we‚Äôre actually a completely legitimate organisation.</p>
			<p class="meta">DOWN üëá</p>
		</aside>
	</section>
	<section data-background="img/bond-lair2.png" data-background-size="contain">
		<aside class="notes">
			<p>We have various offices around the world, this is our Boston office</p>
			<p class="meta">DOWN üëá</p>
		</aside>
	</section>
	<section data-background="img/bond-lair.jpg" data-background-size="contain">
		<aside class="notes">
			<p>And this is the new one that we just opened in Japan.</p>
			<p class="meta">DOWN üëá</p>
		</aside>
	</section>
	<section data-background="img/henchmen.jpg" data-background-size="contain">
		<aside class="notes">
			<p>Here are some of my friendly coworkers. You can see we're a diverse team.</p>
			<p>We could do with better representation in leadership, but we're working on it.</p>
			<p class="meta">DOWN üëá</p>
		</aside>
	</section>
	<section data-background="img/blofeld.png" data-background-size="contain">
		<aside class="notes">
			<p>and this is my boss, he's a big animal-lover.</p>
			<p>Anyway QB is an advanced analytics company, so we do a lot of fancy things with data.</p>
		</aside>
	</section>
</section>

<section data-background="img/data.gif" data-background-size="cover">
	<aside class="notes">
		<p class="meta">SLOW</p>
		<p>I work with a lot of smart people with ‚Äòdata‚Äô in their job title, like data scientists, and data engineers, and dataviz designers and developers.</p>
	</aside>
</section>

<section data-background="img/StudioAI.jpg" data-background-size="contain" data-background-color="black">
	<aside class="notes">
		<p>And my job is usually to take this data, and help translate that into an interactive tool or product, that will help them explore it, or explain their insights to clients and stakeholders.</p>
		<p>So I‚Äôm going to talk to you today about how to make great charts. But before I get to that, let‚Äôs begin with a story. I want you to imagine for a minute, that you‚Äôre in Victorian London.</p>
	</aside>
</section>

<section data-background="img/Leadenhall_Street.jpg" data-background-size="cover" data-background-position="center bottom">
	<aside class="notes">
		<p>It‚Äôs 1854. The British Empire is fighting against Russia in the Crimea, and Londoners are stoked about reading Charles Dickens.</p>
		<p class="meta">SLOW</p>
	</aside>
</section>

<section data-background="img/cholera.jpg" data-background-size="contain" data-background-color="white">
	<aside class="notes">
		<p>Meanwhile, London is suffering one of its worst ever cholera outbreaks. The disease has ripped through Soho, killing over 600 people, and causing many of the local residents to flee the area.</p>
		<p>At the time there were two competing theories on the cause of cholera‚Äôs spread: Some people argued that it was spread by a noxious form of bad air or ‚Äúmiasma‚Äù, that originated in rotting decaying matter.</p>
		<p>Meanwhile, others held that it was spread through some sort of unidentified microscopic organism, or ‚Äúgerm‚Äù. If you‚Äôve heard of germ theory but haven‚Äôt heard of miasma theory then at this point you might have an idea which side was right, but please don‚Äôt spoil it for your neighbours if they haven't figured it out yet.</p>
		<p>Now every good story needs to have a hero, and this one is no exception. His name was John Snow.</p>
	</aside>
</section>

<section data-background="img/jon-snow.jpeg" data-background-size="cover" data-background-position="center 15%">
	<aside class="notes">
		<p class="meta">UNCOMFORTABLY LONG PAUSE</p>
		<p>Not that one</p>
	</aside>
</section>

<section data-background="img/john-snow.jpg" data-background-size="contain" data-background-color="white">
	<aside class="notes">
		<p>Yep that‚Äôs the guy.</p>
		<p>John Snow was an English physician, and a skeptic of miasma theory. He did not understand exactly how Cholera was transmitted, but his observation of the evidence led him to discount the theory of foul air. He had a theory that it was spread through the water supply.</p>
	</aside>
</section>

<section data-background="img/cholera-map.png" data-background-size="contain" data-background-color="white">
	<aside class="notes">
		<p>By talking to local residents and studying the pattern of how the disease spread, he identified the source of the outbreak as the public water pump on Broad Street - just a few minutes‚Äô walk from the McKinsey offices, which are down in the bottom right corner of the map, just by Piccadilly Circus.</p>
		<p>John Snow tried to warn everyone about this pump, but they told him, ‚ÄúYou know nothing John Snow‚Äù.</p>
	</aside>
</section>

<section data-background="img/jon-snow-annoyed.jpg" data-background-size="contain">
	<aside class="notes">
	<p class="meta">PAUSE.</p>
	</aside>
</section>

<section data-background="img/cholera-map.png" data-background-size="contain" data-background-color="white">
	<aside class="notes">
		<p>But he was eventually able to convince the local authorities about his theory, with the aid of this dot map, which illustrates the clusters of cholera cases, juxtaposed with the locations of water pumps.</p>
		<p>You can see on the map how the infections are concentrated around the Broad Street pump, marked in blue in the middle.</p>
		<p>Once he convinced the parish authorities that almost all the deaths occurred at houses which were a shorter walking distance to the Broad Street water pump than to other pumps, they solved the problem by removing the pump handle. This forced people to draw their water from other wells which were uncontaminated, and the number of new cholera cases fell.</p>
		<p>So what does this tell us?</p>
	</aside>
</section>

<section data-background="img/john-snow-pub.jpg" data-background-position="center top">
	<aside class="notes">
		<p>Firstly, not to drink water from public taps in Soho. If you‚Äôre in any doubt about this, you should know that not one of the employees at the brewery just up the street from the pump contracted cholera, because they were paid in beer, so they didn‚Äôt drink the water. So if in doubt, don‚Äôt drink water, drink beer.</p>
		<p>There‚Äôs actually a pub on the location of the former pump called the John Snow, so you can drink your beer there instead if you visit London.</p>
	</aside>
</section>

<section>
	<h2>Good charts<br> save lives</h2>
	<aside class="notes">
		<p>Secondly, that a well-executed chart can inspire action. John Snow‚Äôs use of a map-based dataviz helped convince the city to shut down the infected well. His chart might have saved hundreds of lives.</p>
	</aside>
</section>

<section>
	<h2>A good chart<br> should have a story</h2>
	<aside class="notes">
		But thirdly and most importantly, it tells us that a good chart should have a story.
		<p>Most data visualization is done for the purpose of communication. We have an insight about a dataset, and we have a potential audience, and we would like to convey our insight to our audience. To communicate our insight successfully, we will have to present the audience with a clear and exciting story.</p>
		<p>The need for a story may sound a bit disturbing to engineers, who may equate it with making things up, putting a spin on things, or overselling results. After all, surely the point of a chart is to persuade people with cold hard numbers, not wishy washy emotions. However, we must not overlook the important role that stories play in reasoning and memory. We get excited when we hear a good story, and we get bored when the story is bad or when there is none.</p>
	</aside>
</section>

<section>
	<h5>What is your chart's purpose?</h5>
	<h2>Persuade?</h2>
	<h2>Inform?</h2>
	<h2>Entertain?</h2>
	<aside class="notes">
		<p>So when you want to make a chart, the first and most important thing to think about, is what point you chart is trying to make, or what problem you‚Äôre trying to solve.</p>
		<p>Are you trying to persuade people, and change their minds? To teach them something new? Or do you just want to make some dank chart based memes?</p>
	</aside>
</section>

<section>
	<h3>Who are your audience?</h3>
	<p>Casual visitors or regular users?</p>
	<p>Education level?</p>
	<p>Technical ability?</p>
	<p>Familiarity with the subject matter, and with dataviz in general?</p>
	<aside class="notes">
		<p>Next, consider who your audience is. Is this a dashboard that they use every day at work, or will they be random reddit users? Are they data scientists with PhDs, or are they teenagers? How familiar are they with complex web user interfaces, or with common chart metaphors like graph axes?</p>
		<p>All of these factors will influence how much hand-holding you‚Äôll need to do for your users. There‚Äôs often a balance or trade-off to be made, between intuitiveness on the one hand, and originality on the other.</p>
	</aside>
</section>

<section>
	<h3>Aesthetics</h3>
	<svg class="svg" width="400" height="300">
		<line x1="10" x2="10" y1="3" y2="291" stroke="white" stroke-width="3" />
		<line x1="9" x2="397" y1="290" y2="290" stroke="white" stroke-width="3" />
		<polygon points="10,0 20,20 0,20" fill="white" />
		<polygon points="400,290 380,300 380,280" fill="white" />
		<text x="20" y="40" fill="white" style="font-size: 16px">x</text>
		<text x="360" y="275" fill="white" style="font-size: 16px">y</text>
		<text x="40" y="255" fill="white" style="font-size: 25px">Position</text>
		<text x="60" y="190" fill="white" style="font-size: 25px">Position</text>
		<text x="140" y="120" fill="white" style="font-size: 25px">Position</text>
		<text x="250" y="75" fill="white" style="font-size: 25px">Position</text>
	</svg>
	<svg class="svg" width="400" height="300">
		<g transform="translate(30, -25)">
			<g transform="translate(35, 40)">
				<polygon points="50,0 100,80 0,80" stroke="#aaa" stroke-width="3" />
				<text x="15" y="60" fill="white" style="font-size: 25px">Shape</text>
			</g>
			<g transform="translate(250, 50)">
				<circle cx="40" cy="40" r="40" stroke="#aaa" stroke-width="3" />
				<text x="5" y="50" fill="white" style="font-size: 25px">Shape</text>
			</g>
			<g transform="translate(250, 200)">
				<rect x="0" y="0" width="80" height="80" stroke="#aaa" stroke-width="3" />
				<text x="5" y="50" fill="white" style="font-size: 25px">Shape</text>
			</g>
			<g transform="translate(50, 200)">
				<rect x="0" y="0" width="80" height="80" transform="rotate(45, 40, 40)" stroke="#aaa" stroke-width="3" />
				<text x="5" y="50" fill="white" style="font-size: 25px">Shape</text>
			</g>
		</g>
	</svg>
	<svg class="svg" width="800" height="240" style="font-weight: 900">
		<g transform="translate(1, 10)">
			<text x="0" y="50" fill="crimson" style="font-size: 30px">Colour</text>
			<text x="0" y="100" fill="green" style="font-size: 30px">Colour</text>
			<text x="0" y="150" fill="royalblue" style="font-size: 30px">Colour</text>
			<text x="0" y="200" fill="gold" style="font-size: 30px">Colour</text>
		</g>
		<g transform="translate(220, 10)">
			<text x="0" y="50" dy="-5" fill="white" style="font-size: 20px">Size</text>
			<text x="0" y="100" dy="-6" fill="white" style="font-size: 30px">Size</text>
			<text x="0" y="150" dy="-3" fill="white" style="font-size: 40px">Size</text>
			<text x="0" y="200"  dy="8" fill="white" style="font-size: 50px">Size</text>
		</g>
		<g transform="translate(400, 10)">
			<text x="0" y="50" fill="black" stroke="white" stroke-width="0.5" style="font-size: 30px">Line width</text>
			<text x="0" y="100" fill="black" stroke="white" stroke-width="1" style="font-size: 30px">Line width</text>
			<text x="0" y="150" fill="black" stroke="white" stroke-width="2" style="font-size: 30px">Line width</text>
			<text x="0" y="200" fill="black" stroke="white" stroke-width="3" style="font-size: 30px">Line width</text>
		</g>
		<g transform="translate(630, 10)">
			<text x="0" y="50" fill="black" stroke="white" stroke-width="1" style="font-size: 30px">Line type</text>
			<text x="0" y="100" fill="black" stroke="white" stroke-width="1" stroke-dasharray="1,1" style="font-size: 30px">Line type</text>
			<text x="0" y="150" fill="black" stroke="white" stroke-width="1" stroke-dasharray="5,2" style="font-size: 30px">Line type</text>
			<text x="0" y="200" fill="black" stroke="white" stroke-width="1" stroke-dasharray="1,4" style="font-size: 30px">Line type</text>
		</g>
	</svg>
	<aside class="notes">
		<p>Now, my favourite thing about charts is their ability to tell a compelling story in a beautiful way using just a few kilobytes of data and code. And just as most good storytellers use metaphors, good dataviz uses metaphors too. Like you can represent data in your visual stories with aesthetic properties like position, shape, size, color, line width, and line type.</p>
		<p>All aesthetics fall into one of two groups: Those that can represent continuous data and those that can't.</p>
	</aside>
</section>

<section>
	<h1 class="continuous">Continuous</h1>
	<p>vs</p>
	<h1 class="discrete"><span>D</span><span>i</span><span>s</span><span>c</span><span>r</span><span>e</span><span>t</span><span>e</span></h1>
	<aside class="notes">
		<p>Continuous data values are values for which arbitrarily fine intermediates exist. For example, distance is a continuous value, because you can break that down into as many intermediates as you like, from kilometres down to nanometers. On the other hand, number of persons in a room is a discrete value. A room can hold 5 persons, or 6 persons, but not 5 and a half persons.</p>
		<p>You can use position, size, colour or line width to represent continuous data, while shape and line type should usually only be used to represent discrete data.</p>
		<p>Each of these can have advantages and disadvantages for different types of data. e.g. size can be misleading because it's tricky for the human eye to accurate tell how much bigger one thing is than another, while certain colour scales don‚Äôt work well for colour-blind people. So you‚Äôll want to be careful how you use these scales.</p>
	</aside>
</section>

<section>
	<h3>Animated aesthetics</h3>
	<br>
	<svg class="svg" width="820" height="300" style="font-weight: 900">
		<g class="frequency" transform="translate(10, 5)">
			<text x="0" y="50" fill="white" style="font-size: 40px">Frequency</text>
			<text x="0" y="120" fill="white" style="font-size: 40px">Frequency</text>
			<text x="0" y="190" fill="white" style="font-size: 40px">Frequency</text>
			<text x="0" y="260" fill="white" style="font-size: 40px">Frequency</text>
		</g>
		<g class="velocity" transform="translate(300, 5)">
			<text x="0" y="50" fill="white" style="font-size: 40px">Velocity</text>
			<text x="0" y="120" fill="white" style="font-size: 40px">Velocity</text>
			<text x="0" y="190" fill="white" style="font-size: 40px">Velocity</text>
			<text x="0" y="260" fill="white" style="font-size: 40px">Velocity</text>
		</g>
	</svg>
	<aside class="notes">
		<p>By the way, we've discussed static visual aesthetics but you don't have to stop there. Instead of paper and ink, we‚Äôre using computer screens, CSS and JavaScript, so you can use Time as a medium. Consider playing around with animation too, like you can use frequency or velocity as a visual metaphor.</p>
	</aside>
</section>

<section>
	<h2>Photosensitive<br> seizure warning</h2>
	<br>
	<p>The following slide contains rapidly flashing images</p>
	<aside class="notes">
		<p>Speaking of which, I just want to give a small photosensitivity warning. If you‚Äôre strongly affected by flashing images then I‚Äôd recommend that you close your eyes for the next slide.</p>
	</aside>
</section>

<section data-background="img/snapchat.gif">
	<aside class="notes">
		<p>So back in 2015 I was working with a creative team making interactive web content, and we did a piece about this hot new app called Snapchat. At the time, it was growing quickly, and it was amazing to think there might be nearly 9 thousand photos being shared per second. So we visualised this using Canvas, using an emoji or snapchat logo to represent each photo. I thought it was effective, and it did okay on reddit, but 9 thousand RPM was a lot for most computer‚Äôs GPUs to handle, and the frame-rate suffered on all but the most powerful desktop computers. Last time I checked, the number of Snapchats being shared is closer to 34 thousand per second, which is enough to completely ruin the frame rate if not completely crash your browser.</p>
		<p>So that was fun :). But you can also use animation in more subtle ways to communicate about your data!</p>
	</aside>
</section>

<section data-id="darksky" data-background="img/dark-sky.gif" data-background-size="contain">
	<aside class="notes">
		<p>And this is done really well in one of my favourite apps. Dark Sky is a smartphone app that does hyper-local weather forecasting to predict exactly when it‚Äôs going to rain in the next hour, by cross-referencing your phone‚Äôs GPS against local weather radar. It‚Äôs amazing for working out whether you need to bring an umbrella when you step out for lunch. But before you all download it at once, I should warn you that unfortunately it only works in the US, UK and Ireland.</p>
		<p>Anyway Dark Sky uses an area chart to show when and how much it‚Äôll be raining over the next hour. And the developers have included this cute little wiggle animation, which is great for communicating the level of uncertainty in the data. I think it‚Äôs really clever.</p>
	</aside>
</section>

<section>
	<h5>Common dataviz variable types</h5>
	<table class="variables">
		<colgroup>
			<col width="30%" />
			<col width="25%" />
			<col width="15%" />
		</colgroup>
		<thead>
			<tr class="header">
				<th>Type of variable</th>
				<th>Examples</th>
				<th>Appropriate scale</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>quantitative/numerical continuous</td>
				<td>1.3, 5.7, 83, 1.5x10<sup>-2</sup></td>
				<td>continuous</td>
			</tr>
			<tr>
				<td>quantitative/numerical discrete</td>
				<td>1, 2, 3, 4</td>
				<td>discrete</td>
			</tr>
			<tr>
				<td>qualitative/categorical unordered</td>
				<td>dog, cat, fish</td>
				<td>discrete</td>
			</tr>
			<tr>
				<td>qualitative/categorical ordered</td>
				<td>good, fair, poor</td>
				<td>discrete</td>
			</tr>
			<tr>
				<td>date or time</td>
				<td>Jan. 5 2018, 8:03am</td>
				<td>continuous or discrete</td>
			</tr>
			<tr>
				<td>text</td>
				<td>The quick brown fox jumps over the lazy dog.</td>
				<td>none, or discrete</td>
			</tr>
		</tbody>
	</table>
	<cite>Source: <a href="https://serialmentor.com/dataviz/aesthetic-mapping.html">https://serialmentor.com/dataviz/aesthetic-mapping.html</a></cite>
	<aside class="notes">
		<p>So we have a few different aesthetics that we can use to represent our data. But before you start visualising it, you need to consider what types of data you‚Äôre going to present.</p>
		<p>You might think of data as numbers, but numerical values are only a couple of the many types of data we may encounter. In addition to continuous and discrete numerical values, data can come in the form of discrete categories, or as dates or times, or as text. When data is numerical we also call it quantitative and when it is categorical we call it qualitative.</p>
	</aside>
</section>

<section>
	<h3>Scales map data values<br> onto aesthetics</h3>
	<table class="scales">
		<tbody>
			<tr>
				<th></th>
				<td>1</td>
				<td>2</td>
				<td>3</td>
				<td>4</td>
			</tr>
			<tr>
				<th>Position</th>
				<td>
					<svg class="svg" width="48" height="20">
						<line x1="6" x2="42" y1="10" y2="10" stroke="white" stroke-width="2" />
						<circle cx="6" cy="10" r="6" fill="darkturquoise" />
					</svg>
				</td>
				<td>
					<svg class="svg" width="48" height="20">
						<line x1="6" x2="42" y1="10" y2="10" stroke="white" stroke-width="2" />
						<circle cx="18" cy="10" r="6" fill="darkturquoise" />
					</svg>
				</td>
				<td>
					<svg class="svg" width="48" height="20">
						<line x1="6" x2="42" y1="10" y2="10" stroke="white" stroke-width="2" />
						<circle cx="30" cy="10" r="6" fill="darkturquoise" />
					</svg>
				</td>
				<td>
					<svg class="svg" width="48" height="20">
						<line x1="6" x2="42" y1="10" y2="10" stroke="white" stroke-width="2" />
						<circle cx="42" cy="10" r="6" fill="darkturquoise" />
					</svg>
				</td>
			</tr>
			<tr>
				<th>Shape</th>
				<td>
					<svg class="svg" width="30" height="30">
						<circle cx="15" cy="15" r="15" fill="darkturquoise" />
					</svg>
				</td>
				<td>
					<svg class="svg" width="30" height="30">
						<rect x="2" y="2" width="26" height="26" fill="darkturquoise" />
					</svg>
				</td>
				<td>
					<svg class="svg" width="40" height="40">
						<rect x="6" y="6" width="26" height="26" fill="darkturquoise" transform="rotate(45, 20, 20)" />
					</svg>
				</td>
				<td>
					<svg class="svg" width="36" height="30">
						<polygon points="18,0 36,30 0,30" fill="darkturquoise" />
					</svg>
				</td>
			</tr>
			<tr>
				<th>Colour</th>
				<td>
					<svg class="svg" width="30" height="30">
						<rect x="2" y="2" width="26" height="26" fill="#f0f9e8" />
					</svg>
				</td>
				<td>
					<svg class="svg" width="30" height="30">
						<rect x="2" y="2" width="26" height="26" fill="#bae4bc" />
					</svg>
				</td>
				<td>
					<svg class="svg" width="30" height="30">
						<rect x="2" y="2" width="26" height="26" fill="#7bccc4" />
					</svg>
				</td>
				<td>
					<svg class="svg" width="30" height="30">
						<rect x="2" y="2" width="26" height="26" fill="#2b8cbe" />
					</svg>
				</td>
			</tr>
		</tbody>
	</table>
	<aside class="notes">
		<p>In order to translate your data into a visual aesthetic, you‚Äôre going to want a scale function. Scales are your basic low-level building block of any chart. They make it easy to take data of different formats, and convert it consistently into a corresponding aesthetic value, like a pixel distance or a colour or a shape.</p>
		<p>Importantly, a scale‚Äôs input and output must always have a deterministic one-to-one relationship, such that for each specific data value there is exactly one aesthetics value and vice versa. If a scale isn‚Äôt one-to-one, then the visualization can be ambiguous.</p>
	</aside>
</section>

<section data-id="scale-demo">
	<div class="box scale-demo">
		<h3>Scale functions</h3>
		<table>
			<tbody>
				<tr>
					<th>Domain (pixels):</th>
					<td id="domain"></td>
				</tr>
				<tr>
					<th>Range (hue):</th>
					<td id="range"></td>
				</tr>
				<tr>
					<th>Input value (pixels):</th>
					<td id="inputValue"></td>
				</tr>
				<tr>
					<th>Output value (hue):</th>
					<td id="outputValue"></td>
				</tr>
			</tbody>
		</table>
	</div>
	<p id="scale-colour"></p>
	<aside class="notes">
		<p>To set up a scale function, you‚Äôll typically provide one with an input domain and an output range. The domain is the complete set of data values that the function can expect to receive, and the range is the set of aesthetic values that you want it to return.</p>
		<p>So for this slide for example, I‚Äôm using a linear colour scale to set the background colour based on the mouse position on the screen. We have a continuous numerical domain, which has a minimum extent of zero, and a maximum extent equal to the height of the screen. The input value is equal to the current Y position of the mouse as I move it around. Our range corresponds to the hue value of an HSL colour, which runs from 0 to 360. And you can see the output aesthetic on the screen background here.</p>
	</aside>
</section>

<section>
	<ul class="chart-chooser-apps stretch">
		<li>
			<a href="https://datavizproject.com/">Data Viz Project</a>
			<img src="img/chooser-apps/dataviz-project.png" alt="" />
		</li>
		<li>
			<a href="https://datavizcatalogue.com/">Data Visualisation Catalogue</a>
			<img src="img/chooser-apps/dataviz-catalogue.png" alt="" />
		</li>
		<li>
			<a href="http://labs.juiceanalytics.com/chartchooser/">Chart Chooser</a>
			<img src="img/chooser-apps/chart-chooser.png" alt="" />
		</li>
		<li>
			<a href="https://www.d3-graph-gallery.com/">D3.js Graph Gallery</a>
			<img src="img/chooser-apps/d3-gallery.png" alt="" />
		</li>
		<li>
			<a href="https://public.tableau.com/en-us/s/gallery/visual-vocabulary">Tableau Visual Vocabulary</a>
			<img src="img/chooser-apps/tableau-viz-vocab.png" alt="" />
		</li>
		<li>
			<a href="https://www.ibm.com/design/v1/language/experience/data-visualization/">IBM Design Language</a>
			<img src="img/chooser-apps/ibm.png" alt="" />
		</li>
		<li>
			<a href="https://www.labnol.org/software/find-right-chart-type-for-your-data/6523/">Choose the Right Chart Type for your Data</a>
			<img src="img/chooser-apps/data-chart-type.png" alt="" />
		</li>
	</ul>
	<aside class="notes">
		<p></p>
		<p></p>
	</aside>
</section>

<section>
	<h3>Don‚Äôt choose a chart type just because you think it looks cool</h3>
	<aside class="notes">
		<p></p>
		<p></p>
	</aside>
</section>

<section>
	<h1>SVG</h1>
	<aside class="notes">
		<p></p>
		<p></p>
	</aside>
</section>

<section>
<pre><code data-trim>
	<svg width="600" height="400">
	  <circle cx="250" cy="200" r="100" fill="steelblue" stroke="lime" stroke-width="6" />
	  <line x1="50" x2="500" y1="250" y2="50" stroke="deeppink" stroke-width="6" />
	  <path d="M150 0 L75 200 L225 200 Z" fill="gold" stroke="indigo" stroke-width="6" />
	  <text x="50" y="340" fill="white" style="font-size: 16px">Why can't I wrap this text without manually inserting line breaks? üòî</text>
	  <polygon points="400,10 550,300 300,100 400,350" fill="crimson" stroke="skyblue" stroke-width="6" />
	</svg>
</code></pre>
	<svg class="svg-demo" width="600" height="400">
		<circle cx="250" cy="200" r="100" fill="steelblue" stroke="lime" stroke-width="6" />
		<line x1="50" x2="500" y1="250" y2="50" stroke="deeppink" stroke-width="6" />
		<path d="M150 0 L75 200 L225 200 Z" fill="gold" stroke="indigo" stroke-width="6" />
		<text x="50" y="340" fill="white" style="font-size: 16px">Why can't I wrap this text without manually inserting line breaks? üòî</text>
		<polygon points="400,10 550,300 300,100 400,350" fill="crimson" stroke="skyblue" stroke-width="6" />
	</svg>
	<aside class="notes">
		<p></p>
		<p></p>
	</aside>
</section>

<section>
	<img class="trump plain" src="img/DonaldTrump.svg" alt="" />
	<aside class="notes">
		<p></p>
		<p></p>
	</aside>
</section>

<section>
	<h1>Canvas</h1>
	<aside class="notes">
		<p></p>
		<p></p>
	</aside>
</section>

<section>
<pre><code data-trim>
	<canvas></canvas>
</code></pre>
<pre><code data-trim>
	const canvas = document.querySelector('canvas');
	const context = canvas.getContext('2d');
	context.clearRect(0, 0, width, height);
	context.drawImage(object.image, x, y, object.width, object.height);
	context.fillStyle = object.fillStyle;
	context.fillRect(x, y, object.width, object.height);
</code></pre>
	<p><canvas id="canvas" style="position: static;" height="300" width="300"></canvas></p>
	<script>
		const canvas = document.querySelector('#canvas');
		const context = canvas.getContext('2d');
		context.fillStyle = '#eee';
		context.fillRect(0, 0, 300, 300);
		context.fillStyle = 'red';
		context.fillRect(150, 50, 100, 100);
		context.fillStyle = 'red';
    const image = new Image();
    image.src = 'img/cat-cheese.jpg';
		image.onload = () => context.drawImage(image, 50, 100, 150, 150);
	</script>
	<aside class="notes">
		<p></p>
		<p></p>
	</aside>
</section>

<section data-id="canvas">
	<aside class="notes">
		<p></p>
		<p></p>
	</aside>
</section>

<section data-id="canvas-clear">
	<aside class="notes">
		<p></p>
		<p></p>
	</aside>
</section>

<section>
	<h1>WebGL</h1>
	<aside class="notes">
		<p></p>
		<p></p>
	</aside>
</section>

<section data-background="img/webgl.jpg" data-background-size="contain">
	<aside class="notes">
		<p></p>
		<p></p>
	</aside>
</section>

<section data-background-iframe="webgl.html">
	<aside class="notes">
		<p></p>
		<p></p>
	</aside>
</section>

<section data-id="webgl">
	<h3 class="fragment">Just because you can<br> doesn't mean you should</h3>
	<aside class="notes">
		<p></p>
		<p></p>
	</aside>
</section>

<section>
	<h1>HTML & CSS</h1>
	<aside class="notes">
		<p></p>
		<p></p>
	</aside>
</section>

<section>
<pre><code data-trim>
	<ul>
		<li style="width: 30%; background: red;">30%</li>
		<li style="width: 40%; background: orange;">40%</li>
		<li style="width: 50%; background: yellow;">50%</li>
		<li style="width: 60%; background: green;">60%</li>
		<li style="width: 70%; background: blue;">70%</li>
		<li style="width: 80%; background: indigo;">80%</li>
		<li style="width: 90%; background: violet;">90%</li>
	</ul>
</code></pre>
	<ul class="css-bar">
		<li style="width: 30%; background: red;">30%</li>
		<li style="width: 40%; background: orange;">40%</li>
		<li style="width: 50%; background: yellow;">50%</li>
		<li style="width: 60%; background: green;">60%</li>
		<li style="width: 70%; background: blue;">70%</li>
		<li style="width: 80%; background: indigo;">80%</li>
		<li style="width: 90%; background: violet;">90%</li>
	</ul>
</section>

<section>
	<h2>Choosing a<br> charting library</h2>
</section>

<section data-background="img/unsure.gif" data-background-size="cover" data-background-position="center top">
	<div class="chartlibs">
		<img class="chartlib fragment" src="img/libs/highcharts.png" alt="highcharts logo" />
		<img class="chartlib fragment" src="img/libs/chartist.gif" alt="chartist logo" />
		<img class="chartlib fragment plain" src="img/libs/chartjs.svg" alt="chartjs logo" />
		<img class="chartlib fragment plain" src="img/libs/plotly.png" alt="plotly logo" />
		<img class="chartlib fragment plain" src="img/libs/victory.svg" alt="Victory logo" />
		<img class="chartlib fragment" src="img/libs/c3.png" alt="C3 logo" />
		<img class="chartlib fragment plain" src="img/libs/r2d3.png" alt="r2d3 logo" />
		<img class="chartlib fragment" src="img/libs/nvd3.png" alt="nvd3 logo" />
		<img class="chartlib fragment" src="img/libs/rjd2.jpg" alt="rjd2" />
		<img class="chartlib fragment plain" src="img/libs/d20.png" alt="d20" />
		<img class="chartlib fragment plain" src="img/libs/c4.png" alt="c4" />
		<img class="chartlib fragment plain" src="img/libs/r2d2.png" alt="r2d2" />
		<!-- <img class="chartlib fragment" src="img/libs/nva.jpg" alt="nva" /> -->
	</div>
	<aside class="notes">
		<p>Common problem: Choosing what to build it in.</p>
		<p class="meta">SLOW</p>
		<p>Charting libraries like Highcharts, Chartist, and Chartjs. Charting libraries built on top of d3, like Plotly, Formidable's Victory Charts (built in React: good option), C3, R2D3, NVD3, RJD2, D20, C4, and R2D2. It's overwhelming.</p>
		<p>These libraries typically provide a few basic chart types, and abstract away most of the complexity. Whether this is a help or a hindrance depends on your use case.</p>
	</aside>
</section>

<section>
  <h2>Pros of using<br> charting libraries:</h2>
  <ul class="list">
    <li class="fragment">Quick to use</li>
    <li class="fragment">Simpler to learn</li>
    <li class="fragment">More readable, usually</li>
  </ul>
	<aside class="notes">
		<p>In general, and obviously it depends on the library, but the advantages of using a charting library is that:</p>
		<p class="meta">DOWN</p>
		<p>1. You can get something built quickly</p>
		<p class="meta">DOWN</p>
		<p>2. Less upfront time investment</p>
		<p class="meta">DOWN</p>
		<p>3. Usually more readable than D3, though obviously it depends on the library</p>
	</aside>
</section>

<section>
  <h2>Cons of using<br> charting libraries:</h2>
  <ul class="list">
    <li class="fragment">Variable performance</li>
    <li class="fragment">Limited features & restrictive APIs</li>
  </ul>
	<aside class="notes">
		<p>On the other hand they have some disadvantages too:</p>
		<p class="meta">DOWN</p>
		<p>1. They're not always performant enough: Sometimes because of excessive download size, and sometimes in terms of animation performance. I've found they can be a bit janky at times if you're doing something complex.</p>
		<p class="meta">DOWN</p>
		<p>2. Less control: Abstractions may not fit your use case. Because they're usually fairly opinionated, they don't always do everything you want them to. Often I find that it's not until a chart is nearly done that I discover the limitations of a given library's API, and realise that it it's not able to implement certain quirks of the design I've been given. So then I have to start all over again in something else.</p>
		<p>So what I often do is prototype an MVP in a charting library, then build a more fleshed-out version in D3 once I've got more time to invest.</p>
	</aside>
</section>

<section data-background="img/d3.jpg" data-background-size="contain" data-background-color="white" data-background-position="center bottom">
  <aside class="notes">
		<p>But some of you might be wondering what D3 is, and why I didn't include it in the list. After all, it's a data visualisation library too. But unlike the others, it's much more low-level, enough so to be a whole different sort of animal. It's a bit more like jQuery or Underscore than a true charting library, in the sense that, rather than giving you ready-built charts or chart components that you can configure, it gives you the tools to build your own custom charts from scratch, along with a set of best practices.</p>
		<p>And in fact the syntax looks pretty similar to jQuery too. So if you like method chaining, you'll love it</p>
    <p>D3 is also designed to enforce separation of concerns between data and presentation, just like the web was designed to do with HTML & CSS. I know that's not a popular idea lately, what with CSS in JS and all, but I reckon it's still a useful model in the right context. Fight me.</p>
  </aside>
</section>

<section>
  <h2>Pros of using D3:</h2>
  <ul class="list">
    <li class="fragment">Powerful</li>
    <li class="fragment">Flexible</li>
    <li class="fragment">Performant</li>
    <li class="fragment">Popular and well-established</li>
  </ul>
	<aside class="notes">
		<p>There are several advantages to using D3 over other charting libraries:</p>
		<p class="meta">DOWN _ _ _ _ Slow!</p>
		<p>1. D3 gives you full control over how things look, and has so many different tools and algorithms that you can mix and match to create really cool effects. I've been working with d3 for about 4 years and I still regularly come across things where I'm like, whoa, D3 can do that?</p>
		<p>It's also very large. Lots of different APIs. Huge file size if you import the whole thing, but it's modular, as of version 4, so you can just import the bits you want.</p>
		<p class="meta">DOWN</p>
		<p>2. Works seamlessly with existing web technologies. Plays well with other tools. Can manipulate any part of the DOM, or use it with SVG, Canvas, WebGL, or whatever.</p>
		<p class="meta">DOWN</p>
		<p>3. D3's animations are usually really smooth, even with transitions involving hundreds of different objects.</p>
		<p class="meta">DOWN</p>
		<p>4. Large community, lots of examples, tutorials, stackoverflow questions, demos.</p>
	</aside>
</section>

<section>
  <h2>Cons of using D3:</h2>
  <ul class="list">
    <li class="fragment">Steeper learning curve</li>
    <li class="fragment">More complex</li>
    <li class="fragment">Takes longer to make a basic chart</li>
  </ul>
	<aside class="notes">
		<p>On the other hand, there are some downsides:</p>
		<p class="meta">DOWN</p>
		<p>1. It can take a longer to get your head around it, especially the data binding which is a bit counterintuitive.</p>
		<p class="meta">DOWN</p>
		<p>2. The code can be a bit more complex to read, which means you need to put more thought into documenting it.</p>
		<p class="meta">DOWN</p>
		<p>3. If you just want to do a standard chart type like a bar or line chart, D3 will definitely take longer. I find that it's best to use it in situations where you're given a specific design that you need to implement as closely as possible.</p>
	</aside>
</section>

<section>
	<img class="plain" src="img/react.svg" alt="React logo" width=350 />
	<h1>D3 + React</h1>
	<aside class="notes">
		<p>I mentioned that D3 plays well with other tools, and that includes React. But when using them together, you need to make a big decision about which to use for updating the DOM.</p>
		<p>D3 is still perfectly fine to use for layout calculations even if you use React for all the DOM rendering, and in fact, out of D3's 30 different modules, 22 of them don‚Äôt have any API methods that come in direct contact with the DOM!</p>
	</aside>
</section>

<section>
  <h2>Updating the DOM</h2>
	<div class="flex">
		<div class="fragment">
			<h4>D3</h4>
			<ul class="list">
				<li>Complex animation</li>
				<li>SVG helpers, e.g. axes</li>
			</ul>
		</div>
		<div class="fragment">
			<h4>React</h4>
			<ul class="list">
				<li>Better code structure</li>
				<li>More readable</li>
			</ul>
		</div>
	</div>
	<aside class="notes">
		<p>So it's fine if you just want to use React, but they're both great for DOM rendering in their own separate ways, and each have their own advantages and disadvantages.</p>
		<p class="meta">DOWN</p>
		<p>1. For instance, D3 is great for animation, and has some great out-of-the-box SVG helpers for tricky things like axes.</p>
		<p class="meta">DOWN</p>
		<p>2. But D3 code tends to make your chart less structured, by putting the whole chart in one component, which can lead to tight-coupling between the individual parts. It's also a bit less readable than React's declarative syntax.</p>
		<p>It's a pretty tough call! I like the structure and readability that comes by using React components, but I also like using the transitions directly on the DOM elements.</p>
	</aside>
</section>

<section data-background="img/why-not-both.gif" data-background-size="contain">
	<aside class="notes">
		<p>So why not choose a hybrid approach? What I like to do is to combine both approaches: Let React render static components, but use D3 for axes, and anything that needs complex animations. You can mix and match the syntax together, and see what works for you.</p>
		<p class="meta">Slow</p>
		<p>If you want to use D3 for DOM rendering in a React component, you just need to pass a container ref to your D3 code, and run it in componentDidMount and componentDidUpdate. There's a great article by Elijah Meeks with more details about how to do it, which I'll tweet a link to after this talk.</p>
	</aside>
</section>

<section data-id="mountains" data-transition="zoom">
	<h1 class="mountain-text">Have fun with it!</h1>
  <aside class="notes">
		<p>Finally, you don't have to use your new D3, SVG and Canvas skills for just charts. D3 has loads of interesting algorithms to play with, and you can get creative with them, and mix and match differnt layouts and scaling functions to create interesting effects in different contexts. They're great for adding little playful flourishes to your websites, or talk slides.</p>
	</aside>
</section>

<section data-id="mountains-2">
	<div class="box">
		<h1>Thanks!</h1>
		<p style="margin: 1em 0 0.8em">Don't forget to like and subscribe üëç</p>
		<a class="social" style="left:-1.85em" href="http://twitter.com/richardwestenra"> <i class="icon-twitter"></i> twitter.com/<b>richardwestenra</b></a>
		<a class="social" style="left:-1.85em" href="http://github.com/richardwestenra"> <i class="icon-github"></i> github.com/<b>richardwestenra</b></a>
		<a class="social" style="left:0em" href="mailto:richard@richardwestenra.com"> <i class="icon-email"></i> richard@<b>richardwestenra</b>.com</a>
		<a class="social" style="left:2.17em" href="http://richardwestenra.com"> <i class="icon-home"></i> <b>richardwestenra</b>.com</a>
		<small>Slides: <a href="https://richardwestenra.com/painting-with-data-talk">richardwestenra.com/painting-with-data-talk</a></small>
	</div>
	<aside class="notes">
		<p>That's about it for me.</p>
		<p>If you have any questions, please come chat to me afterwards, or get in touch online using any of my imaginative usernames.</p>
		<p>Also I've added some links to handy resources on the last slide of this talk, and which I tweeted out a link to just before this talk.</p>
		<p>Thanks!</p>
	</aside>
</section>

<section data-id="mountains-3">
	<div class="box resources">
		<h3>Resources</h3>
		<p><a href="https://medium.com/@Elijah_Meeks/interactive-applications-with-react-d3-f76f7b3ebc71">Elijah Meeks: Interactive Applications with React & D3 (Medium)</a></p>
		<p><a href="http://alignedleft.com/work/d3-book-2e">Scott Murray: Interactive Data Visualization for the Web (book + tutorials)</a></p>
		<p><a href="https://bl.ocks.org/mbostock">Mike Bostock: bl.ocks (examples)</p>
	</div>
</section>

</div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="lib/js/topojson.js"></script>
<script src="lib/js/d3.min.js"></script>
<script src="lib/js/dat.gui.min.js"></script>
<script src="lib/js/three.min.js"></script>
<script src="js/reveal.js"></script>
<script src="js/utils.js"></script>
<script src="js/adjectives.js"></script>
<script src="js/voronoi.js"></script>
<script src="js/scale-demo.js"></script>
<script src="js/mountains.js"></script>
<script src="js/update.js"></script>
<script src="js/dvd-bounce.js"></script>
<script src="js/webgl.js"></script>
<script src="js/slides.js"></script>

<script>
	Reveal.initialize({
		history: true,
		showNotes: window.location.search.match(/showNotes/gi),
		dependencies: [
			{ src: 'plugin/markdown/marked.js' },
			{ src: 'plugin/markdown/markdown.js' },
			{ src: 'plugin/notes/notes.js', async: true },
			{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
		]
	});
</script>
</body>
</html>
